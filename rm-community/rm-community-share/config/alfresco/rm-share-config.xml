<alfresco-config>

   <config evaluator="string-compare" condition="GlobalFolder">

      <siteTree>
         <container type="rma:filePlan">
            <rootLabel>path.fileplan</rootLabel>
            <uri>slingshot/doclib/rm/treenode/site/{site}/{container}{path}?children={evaluateChildFoldersSite}&amp;max={maximumFolderCountSite}</uri>
         </container>
      </siteTree>

   </config>

   <!-- Define Aikau extension package, as used by the Dojo AMD loader-->
   <config evaluator="string-compare" condition="WebFramework">
      <web-framework>
         <dojo-pages>
            <packages>
               <package name="rm" location="js/alfresco/rm" />
            </packages>
         </dojo-pages>
      </web-framework>
   </config>

   <!-- Document Library config section -->
   <config evaluator="string-compare" condition="DocumentLibrary">

      <!--
         Status Indicators
      -->
      <indicators>
         <!-- Awaiting Completion in Accession {0} -->
         <indicator id="rm-accession" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-accession-16.png">
            <evaluator>evaluator.rm.indicator.accession</evaluator>
         </indicator>
         <!-- Accessioned to NARA -->
         <indicator id="rm-accessioned" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-accessioned-16.png">
            <evaluator>evaluator.rm.indicator.accessioned</evaluator>
         </indicator>
         <!-- Record Folder is Closed -->
         <indicator id="rm-closed" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-closed-16.png">
            <evaluator>evaluator.rm.indicator.closed</evaluator>
         </indicator>
         <!-- Cut Off -->
         <indicator id="rm-cutoff" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-cutoff-16.png">
            <evaluator>evaluator.rm.indicator.cutoff</evaluator>
         </indicator>
         <!-- Cut Off (implies Record Folder is Closed) -->
         <indicator id="rm-cutoff-folder" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-cutoff-folder-16.png">
            <evaluator>evaluator.rm.indicator.cutoffFolder</evaluator>
         </indicator>
         <!-- Destroyed -->
         <indicator id="rm-destroyed" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-destroyed-16.png">
            <evaluator>evaluator.rm.indicator.destroyed</evaluator>
         </indicator>
         <!-- Record is Frozen -->
         <indicator id="rm-frozen" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-frozen-16.png">
            <evaluator>evaluator.rm.indicator.frozen</evaluator>
         </indicator>
         <!-- Record has been Filed in {0} Record Folders -->
         <indicator id="rm-multi-parent" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-multi-parent-16.png">
            <evaluator>evaluator.rm.indicator.multiParent</evaluator>
         </indicator>
         <!-- Record Folder is Open -->
         <indicator id="rm-open" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-open-16.png">
            <evaluator>evaluator.rm.indicator.open</evaluator>
         </indicator>
         <!-- Awaiting Completion in Transfer {0} -->
         <indicator id="rm-transfer" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-transfer-16.png">
            <evaluator>evaluator.rm.indicator.transfer</evaluator>
         </indicator>
         <!-- Transferred to: {0} -->
         <indicator id="rm-transferred" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-transferred-16.png">
            <evaluator>evaluator.rm.indicator.transferred</evaluator>
         </indicator>
         <!-- Vital Record Indicator -->
         <indicator id="rm-vital-record" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-vital-record-16.png">
            <evaluator>evaluator.rm.indicator.vitalRecord</evaluator>
         </indicator>
         <!--  Is Record Indicator -->
         <indicator id="rm-is-record" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-record-16.png">
            <evaluator>evaluator.rm.doclib.isDocLibRecord</evaluator>
         </indicator>
         <!--  Disposition Schedule Indicator -->
         <indicator id="rm-disposition-schedule" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-disposition-schedule-16.png">
            <evaluator>evaluator.rm.indicator.dispositionSchedule</evaluator>
         </indicator>
         <!-- Recorded Version History All Revisions Indicator -->
         <indicator id="rm-recorded-version-history-all-revisions" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-all-revisions-16.png">
            <evaluator>evaluator.rm.doclib.recordedVersionHistoryAllRevisions</evaluator>
         </indicator>
         <!-- Recorded Version History Major Revisions Indicator -->
         <indicator id="rm-recorded-version-history-major-revisions" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-major-revisions-16.png">
            <evaluator>evaluator.rm.doclib.recordedVersionHistoryMajorRevisions</evaluator>
         </indicator>
         <!-- Version Record Indicator -->
         <indicator id="rm-version-record" index="10" icon="../../../rm/components/documentlibrary/indicators/rm-version-record-16.png">
            <evaluator>evaluator.rm.doclib.versionRecord</evaluator>
         </indicator>
      </indicators>

      <!--
         Custom Metadata Templates for the Document Library Browse View
         Use view="simple" or view="detailed" to limit the display to one particular view.
      -->
      <metadata-templates>

         <!-- Default (fallback) template - overriding the same template id in share-documentlibrary-config.xml -->
         <template id="default">
            <banner index="10" id="lockBanner" evaluator="evaluator.doclib.metadata.hasLockBanner">{lockBanner}</banner>
            <banner index="40" id="childClassificationInProgress" evaluator="evaluator.rm.doclib.isChildClassificationInProgress">{i18nLabel banner.child-classification-in-progress.info}</banner>
            <banner index="50" id="childClassificationInComplete" evaluator="evaluator.rm.doclib.isChildClassificationComplete">{i18nLabel banner.child-classification-complete.info}{RM_childClassificationCompleteClose}</banner>
            <line index="10" id="date">{date}{size}</line>
            <line index="20" id="description" view="detailed">{description}</line>
            <line index="30" id="tags" view="detailed">{tags}</line>
            <line index="40" id="categories" view="detailed" evaluator="evaluator.doclib.metadata.hasCategories">{categories}</line>
            <line index="50" id="social" view="detailed">{social}</line>
         </template>

         <!-- Record Category -->
         <template id="rmRecordCategory">
            <evaluator>evaluator.rm.common.isRecordCategory</evaluator>
            <banner index="10" id="childClassificationInProgress" evaluator="evaluator.rm.doclib.isChildClassificationInProgress">{i18nLabel banner.child-classification-in-progress.info}</banner>
            <banner index="20" id="childClassificationInComplete" evaluator="evaluator.rm.doclib.isChildClassificationComplete">{i18nLabel banner.child-classification-complete.info}{RM_childClassificationCompleteClose}</banner>
            <line index="10" id="identifier">{rma_identifier details.category.identifier}</line>
            <line index="20" id="dispositionAuthority" view="detailed">{rma_dispositionAuthority details.category.disposition-authority}</line>
            <line index="30" id="dispositionInstructions" view="detailed">{rma_dispositionInstructions details.category.disposition-instructions}</line>
            <line index="40" id="vitalRecord" view="detailed">{RM_vitalRecordIndicator details.category.vital-record-indicator}</line>
            <line index="50" id="createdByModifiedOn">{RM_createdBy details.created.by}{RM_modifiedOn details.modified.on}</line>
         </template>

         <!-- Record Folder -->
         <template id="rmRecordFolder">
            <evaluator>evaluator.rm.common.isRecordFolder</evaluator>
            <banner index="10" id="childClassificationInProgress" evaluator="evaluator.rm.doclib.isChildClassificationInProgress">{i18nLabel banner.child-classification-in-progress.info}</banner>
            <banner index="20" id="childClassificationInComplete" evaluator="evaluator.rm.doclib.isChildClassificationComplete">{i18nLabel banner.child-classification-complete.info}{RM_childClassificationCompleteClose}</banner>
            <line index="10" id="identifier">{rma_identifier details.folder.identifier}</line>
            <line index="20" id="vitalRecord" view="detailed">{RM_vitalRecordIndicator details.folder.vital-record-indicator}</line>
            <line index="30" id="createdByModifiedOn">{RM_createdBy details.created.by}{RM_modifiedOn details.modified.on}</line>
         </template>

         <!-- Record -->
         <template id="rmRecord">
            <evaluator>evaluator.rm.common.isRecord</evaluator>
            <line index="10" id="identifier">{rma_identifier details.record.identifier}{rmv:versionLabel details.version.label}</line>
            <line index="20" id="dateFiled" view="detailed">{RM_dateFiled details.record.date-filed}</line>
            <line index="30" id="modifiedByModifiedOn">{cm:modifier details.modified.by}{cm:modified details.modified.on}{size}</line>
            <line index="40" id="description" view="detailed">{description label.description}</line>
         </template>

         <!-- Undeclared Record -->
         <template id="rmUndeclaredRecord">
            <evaluator>evaluator.rm.common.isUndeclaredRecord</evaluator>
            <banner index="10" id="undeclaredRecord">{i18nLabel details.undeclared-record.info}</banner>
            <line index="10" id="identifier">{rma_identifier details.record.identifier}{rmv:versionLabel details.version.label}</line>
            <line index="20" id="modifiedByModifiedOn">{cm:modifier details.modified.by}{cm:modified details.modified.on}{size}</line>
            <line index="30" id="description" view="detailed">{description label.description}</line>
         </template>

         <!-- Metadata Stub -->
         <template id="rmMetadataStub">
            <evaluator>evaluator.rm.common.isMetadataStub</evaluator>
            <line index="10" id="identifier">{rma_identifier details.record.identifier}</line>
            <line index="20" id="dateFiled" view="detailed">{RM_dateFiled details.record.date-filed}</line>
            <line index="30" id="recordOriginator" view="detailed">{dod_originator details.record.originator}{dod_originatingOrganization details.record.originating-organization}</line>
         </template>

         <!-- Metadata Stub Folder -->
         <template id="rmMetadataStubFolder">
            <evaluator>evaluator.rm.common.isMetadataStubFolder</evaluator>
            <banner index="10" id="childClassificationInProgress" evaluator="evaluator.rm.doclib.isChildClassificationInProgress">{i18nLabel banner.child-classification-in-progress.info}</banner>
            <banner index="20" id="childClassificationInComplete" evaluator="evaluator.rm.doclib.isChildClassificationComplete">{i18nLabel banner.child-classification-complete.info}{RM_childClassificationCompleteClose}</banner>
            <line index="10" id="identifier">{rma_identifier details.folder.identifier}</line>
            <line index="20" id="vitalRecord" view="detailed">{RM_vitalRecordIndicator details.folder.vital-record-indicator}</line>
            <line index="30" id="createdByModifiedOn">{RM_createdBy details.created.by}{RM_modifiedOn details.modified.on}</line>
         </template>

         <!-- Transfer Container -->
         <template id="rmTransferContainer">
            <evaluator>evaluator.rm.common.isTransferContainer</evaluator>
            <title>{RM_transferContainer}</title>
            <banner index="10" id="childClassificationInProgress" evaluator="evaluator.rm.doclib.isChildClassificationInProgress">{i18nLabel banner.child-classification-in-progress.info}</banner>
            <banner index="20" id="childClassificationInComplete" evaluator="evaluator.rm.doclib.isChildClassificationComplete">{i18nLabel banner.child-classification-complete.info}{RM_childClassificationCompleteClose}</banner>
            <line index="10" id="createdByModifiedOn">{RM_createdBy details.created.by}{RM_modifiedOn details.modified.on}</line>
            <line index="20" id="accessionIndicator">{rma_transferAccessionIndicator details.transfer-container.is-accession}</line>
         </template>

         <!-- Hold -->
         <template id="rmHold">
            <evaluator>evaluator.rm.common.isHold</evaluator>
            <title>{RM_hold}</title>
            <banner index="10" id="childClassificationInProgress" evaluator="evaluator.rm.doclib.isChildClassificationInProgress">{i18nLabel banner.child-classification-in-progress.info}</banner>
            <banner index="20" id="childClassificationInComplete" evaluator="evaluator.rm.doclib.isChildClassificationComplete">{i18nLabel banner.child-classification-complete.info}{RM_childClassificationCompleteClose}</banner>
            <line index="10" id="holdReason">{RM_holdReason details.hold.reason}</line>
         </template>

         <!-- Unfiled Record Folder -->
         <template id="rmUnfiledRecordFolder">
            <evaluator>evaluator.rm.unfiledRecordFolder</evaluator>
            <title>{RM_unfiledRecordFolder}</title>
            <banner index="10" id="childClassificationInProgress" evaluator="evaluator.rm.doclib.isChildClassificationInProgress">{i18nLabel banner.child-classification-in-progress.info}</banner>
            <banner index="20" id="childClassificationInComplete" evaluator="evaluator.rm.doclib.isChildClassificationComplete">{i18nLabel banner.child-classification-complete.info}{RM_childClassificationCompleteClose}</banner>
            <line index="10" id="identifier">{rma_identifier details.unfiled-record-folder.identifier}</line>
            <line index="20" id="createdByModifiedOn">{RM_createdBy details.created.by}{RM_modifiedOn details.modified.on}</line>
         </template>

         <!-- DocLib Record -->
         <template id="rmDocLibRecord">
            <evaluator>evaluator.rm.doclib.isDocLibRecord</evaluator>
            <line index="10" id="identifier" view="detailed">{rma_identifier details.record.identifier}</line>
            <line index="20" id="date">{cm_creator details.created.by}{size}</line>
            <line index="30" id="description" view="detailed">{description}</line>
            <line index="40" id="tags" view="detailed">{tags}</line>
            <line index="50" id="categories" view="detailed" evaluator="evaluator.doclib.metadata.hasCategories">{categories}</line>
         </template>

         <!-- DocLib Rejected Record -->
         <template id="rmDocLibRejectedRecord">
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator>evaluator.rm.doclib.isRejectedRecord</evaluator>
            <banner index="10" id="record">{i18nLabel details.rejected-record.info}{RM_rejectedRecordClose}{RM_rejectedRecordInfo}</banner>
            <line index="10" id="description" view="detailed">{description}</line>
            <line index="20" id="tags" view="detailed">{tags}</line>
            <line index="30" id="categories" view="detailed" evaluator="evaluator.doclib.metadata.hasCategories">{categories}</line>
         </template>

         <!-- Metadata Stub -->
      </metadata-templates>

      <multi-select>
         <action type="action-link" id="onActionCutoffRecord" permission="cutoff" asset="record" label="menu.selected-items.cutoff" rmaction="true" />
         <action type="action-link" id="onActionCutoffRecordFolder" permission="cutoff" asset="record-folder" label="menu.selected-items.cutoff" rmaction="true" />
         <action type="action-link" id="onActionCutoffRecordCategory" permission="cutoff" asset="record-category" label="menu.selected-items.cutoff" rmaction="true" />
         <action type="action-link" id="onActionDestroy" permission="destroy" label="menu.selected-items.destroy" rmaction="true" />
         <action type="action-link" id="onActionTransfer" permission="transfer" label="menu.selected-items.transfer" rmaction="true" />
         <action type="action-link" id="onActionTransferComplete" permission="transferComplete" label="menu.selected-items.transfer-complete" rmaction="true" />
         <action type="action-link" id="onActionAccession" permission="accession" label="menu.selected-items.accession" rmaction="true" />
         <action type="action-link" id="onActionUndoCutoff" permission="undoCutoff" label="menu.selected-items.undo-cutoff" rmaction="true" />
         <action type="action-link" id="onActionCopyRecordTo" permission="copyRecord" asset="record,undeclared-record" label="menu.selected-items.copy-to" rmaction="true" />
         <action type="action-link" id="onActionCopyUnfiledRecordTo" permission="copyUnfiledRecord" asset="record,undeclared-record" label="menu.selected-items.copy-to" rmaction="true" />
         <action type="action-link" id="onActionCopyRecordFolderTo" permission="copyRecordFolder" asset="record-folder" label="menu.selected-items.copy-to" rmaction="true" />
         <action type="action-link" id="onActionCopyUnfiledRecordFolderTo" permission="copyUnfiledRecordFolder" asset="unfiled-record-folder" label="menu.selected-items.copy-to" rmaction="true" />
         <action type="action-link" id="onActionCopyRecordCategoryTo" permission="copyRecordCategory" asset="record-category" label="menu.selected-items.copy-to" rmaction="true" />
         <action type="action-link" id="onActionMoveRecordTo" permission="delete,moveRecord" asset="record,undeclared-record" label="menu.selected-items.move-to" rmaction="true" />
         <action type="action-link" id="onActionMoveUnfiledRecordTo" permission="delete,moveUnfiledRecord" asset="record,undeclared-record" label="menu.selected-items.move-to" rmaction="true" />
         <action type="action-link" id="onActionMoveRecordFolderTo" permission="delete,moveRecordFolder" asset="record-folder,metadata-stub-folder" label="menu.selected-items.move-to" rmaction="true" />
         <action type="action-link" id="onActionMoveUnfiledRecordFolderTo" permission="delete,moveUnfiledRecordFolder" asset="unfiled-record-folder" label="menu.selected-items.move-to" rmaction="true" />
         <action type="action-link" id="onActionMoveRecordCategoryTo" permission="delete,moveRecordCategory" asset="record-category" label="menu.selected-items.move-to" rmaction="true" />
         <action type="action-link" id="onActionLinkTo" permission="linkTo" asset="record,undeclared-record" label="menu.selected-items.link-to" rmaction="true" />
         <action type="action-link" id="onActionFileTo" permission="fileTo" asset="record,undeclared-record" label="menu.selected-items.file-to" rmaction="true" />
         <action type="action-link" id="onActionDeleteRecord" permission="delete" label="menu.selected-items.delete" asset="record,undeclared-record" notAspect="rma:frozen" notProperty="rma:holdReason" rmaction="true" />
         <action type="action-link" id="onActionDeleteRecordFolder" permission="delete" label="menu.selected-items.delete" asset="record-folder,unfiled-record-folder,metadata-stub-folder" notAspect="rma:frozen" notProperty="rma:holdReason" rmaction="true" />
         <action type="action-link" id="onActionDeleteRecordCategory" permission="delete" label="menu.selected-items.delete" asset="record-category" notAspect="rma:frozen" notProperty="rma:holdReason" rmaction="true" />
         <action type="action-link" id="onActionAddToHoldRecord" permission="addToHold" label="actions.add-to-hold" asset="record,undeclared-record" rmaction="true" />
         <action type="action-link" id="onActionAddToHoldRecordFolder" permission="addToHold" label="actions.add-to-hold" asset="record-folder" rmaction="true" />
         <action type="action-link" id="onActionExport" permission="" notAspect="rma:cutOff" label="menu.selected-items.export" asset="record,undeclared-record,record-folder,record-category" rmaction="true" />
      </multi-select>

   </config>

   <!-- Document Library Custom Code config section -->
   <config evaluator="string-compare" condition="DocLibCustom">
      <dependencies>
         <css src="components/documentlibrary/dm-actions.css" />
         <js src="components/documentlibrary/dm-actions.js" />
         <js src="rm/components/documentlibrary/actions.js" />
      </dependencies>
   </config>

   <!-- Document Library Actions config section -->
   <config evaluator="string-compare" condition="DocLibActions">

      <!--
         Action definitions
      -->
      <actions>

         <action id="rm-document-download" type="link" label="actions.document.download" icon="document-download">
            <param name="href">{downloadUrl}</param>
            <evaluator>evaluator.rm.common.isElectronicRecord</evaluator>
         </action>

         <action id="rm-delete" type="javascript" label="actions.document.delete" icon="folder-delete">
            <param name="function">onActionDelete</param>
            <evaluator>evaluator.rm.action.delete</evaluator>
         </action>

         <action id="rm-copy-record-to" type="javascript" label="actions.document.copy-to" icon="../../../rm/components/documentlibrary/actions/rm-copy-record-to">
            <param name="function">onActionCopyTo</param>
            <evaluator>evaluator.rm.action.copyRecord</evaluator>
         </action>

         <action id="rm-copy-unfiledrecord-to" type="javascript" label="actions.document.copy-to" icon="../../../rm/components/documentlibrary/actions/rm-copy-record-to">
            <param name="function">onActionCopyUnfiledRecordTo</param>
            <evaluator>evaluator.rm.action.copyUnfiledRecord</evaluator>
         </action>

         <action id="rm-copy-recordfolder-to" type="javascript" label="actions.document.copy-to" icon="folder-copy-to">
            <param name="function">onActionCopyTo</param>
            <evaluator>evaluator.rm.action.copyRecordFolder</evaluator>
         </action>

         <action id="rm-copy-unfiledrecordfolder-to" type="javascript" label="actions.document.copy-to" icon="folder-copy-to">
            <param name="function">onActionCopyUnfiledRecordFolderTo</param>
            <evaluator>evaluator.rm.action.copyUnfiledRecordFolder</evaluator>
         </action>

         <action id="rm-copy-recordcategory-to" type="javascript" label="actions.document.copy-to" icon="folder-copy-to">
            <param name="function">onActionCopyTo</param>
            <evaluator>evaluator.rm.action.copyRecordCategory</evaluator>
         </action>

         <action id="rm-move-record-to" type="javascript" label="actions.document.move-to" icon="../../../rm/components/documentlibrary/images/move-record-to">
            <param name="function">onActionMoveTo</param>
            <evaluator>evaluator.rm.action.moveRecord</evaluator>
         </action>

         <action id="rm-move-unfiledrecord-to" type="javascript" label="actions.document.move-to" icon="../../../rm/components/documentlibrary/images/move-record-to">
            <param name="function">onActionMoveToUnfiled</param>
            <evaluator>evaluator.rm.action.moveUnfiledRecord</evaluator>
         </action>

         <action id="rm-move-recordfolder-to" type="javascript" label="actions.document.move-to" icon="folder-move-to">
            <param name="function">onActionMoveTo</param>
            <evaluator>evaluator.rm.action.moveRecordFolder</evaluator>
         </action>

         <action id="rm-move-unfiledrecordfolder-to" type="javascript" label="actions.document.move-to" icon="folder-move-to">
            <param name="function">onActionMoveToUnfiled</param>
            <evaluator>evaluator.rm.action.moveUnfiledRecordFolder</evaluator>
         </action>

         <action id="rm-move-recordcategory-to" type="javascript" label="actions.document.move-to" icon="folder-move-to">
            <param name="function">onActionMoveTo</param>
            <evaluator>evaluator.rm.action.moveRecordCategory</evaluator>
         </action>

         <!-- View record category details -->
         <action id="rm-record-category-view-details" type="pagelink" label="actions.view-details" icon="folder-view-details">
            <param name="page">rm-record-category-details?nodeRef={node.nodeRef}</param>
         </action>

         <!-- View record folder details -->
         <action id="rm-record-folder-view-details" type="pagelink" label="actions.view-details" icon="folder-view-details">
            <param name="page">rm-record-folder-details?nodeRef={node.nodeRef}</param>
         </action>

         <!-- Edit properties page -->
         <action id="rm-edit-details" type="pagelink" label="actions.edit-details" icon="folder-edit-metadata">
            <param name="page">edit-metadata?nodeRef={node.nodeRef}</param>
            <evaluator>evaluator.rm.action.edit-details</evaluator>
         </action>

         <!-- Link to -->
         <action id="rm-link-to" type="javascript" label="actions.link-to" icon="../../../rm/components/documentlibrary/actions/rm-link-to">
            <param name="function">onActionLinkTo</param>
            <evaluator>evaluator.rm.action.link-to</evaluator>
         </action>

         <!-- unlink from -->
         <action id="rm-unlink-from" type="javascript" label="actions.unlink-from" icon="../../../rm/components/documentlibrary/actions/rm-unlink-from">
            <param name="function">onActionUnlinkFrom</param>
            <evaluator>evaluator.rm.action.unlink-from</evaluator>
            <evaluator>evaluator.rm.action.unlink-from-checkparents</evaluator>
         </action>

         <!-- File to -->
         <action id="rm-file-to" type="javascript" label="actions.file-to" icon="../../../rm/components/documentlibrary/actions/rm-file-to">
            <param name="function">onActionFileTo</param>
            <evaluator>evaluator.rm.action.file-to</evaluator>
         </action>

         <!-- Manage permissions -->
         <action id="rm-manage-permissions" type="pagelink" label="actions.document.manage-permissions" icon="folder-manage-permissions">
            <param name="page">{managePermissionsUrl}</param>
            <evaluator>evaluator.rm.action.manage-permissions</evaluator>
         </action>

         <!-- Manage rules (filed) -->
         <action id="rm-manage-rules-filed" type="pagelink" label="actions.folder.rules" icon="../../../rm/components/documentlibrary/actions/folder-manage-rules">
            <param name="page">folder-rules?nodeRef={node.nodeRef}&amp;unfiled=false</param>
            <evaluator>evaluator.rm.action.manage-rules</evaluator>
         </action>

         <!-- Manage rules (unfiled) -->
         <action id="rm-manage-rules-unfiled" type="pagelink" label="actions.folder.rules" icon="../../../rm/components/documentlibrary/actions/folder-manage-rules">
            <param name="page">folder-rules?nodeRef={node.nodeRef}&amp;unfiled=true</param>
            <evaluator>evaluator.rm.action.manage-rules</evaluator>
         </action>

         <!-- View Audit Log -->
         <action id="rm-view-audit-log" type="javascript" label="actions.view-audit-log" icon="../../../rm/components/documentlibrary/actions/rm-view-audit-log">
            <param name="function">onActionViewAuditLog</param>
            <evaluator>evaluator.rm.action.view-audit-log</evaluator>
         </action>

         <!-- Close Folder -->
         <action id="rm-close-folder" type="javascript" label="actions.close-folder" icon="../../../rm/components/documentlibrary/actions/rm-close-folder">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">closeRecordFolder</param>
            <param name="message">message.close</param>
            <evaluator>evaluator.rm.action.close-folder</evaluator>
         </action>

         <!-- Open Folder -->
         <action id="rm-open-folder" type="javascript" label="actions.open-folder" icon="../../../rm/components/documentlibrary/actions/rm-open-folder">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">openRecordFolder</param>
            <param name="message">message.open-folder</param>
            <evaluator>evaluator.rm.action.open-folder</evaluator>
         </action>

         <!-- Reviewed -->
         <action id="rm-reviewed" type="javascript" label="actions.reviewed" icon="../../../rm/components/documentlibrary/actions/rm-reviewed">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">reviewed</param>
            <param name="message">message.reviewed</param>
            <evaluator>evaluator.rm.action.reviewed</evaluator>
         </action>

         <!-- Review All -->
         <action id="rm-review-all" type="javascript" label="actions.review-all" icon="../../../rm/components/documentlibrary/actions/rm-review-all">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">reviewed</param>
            <param name="message">message.review-all</param>
            <evaluator>evaluator.rm.action.review-all</evaluator>
         </action>

         <!-- Cutoff -->
         <action id="rm-cutoff" type="javascript" label="actions.cutoff" icon="../../../rm/components/documentlibrary/actions/rm-cutoff">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">cutoff</param>
            <param name="message">message.cutoff</param>
            <evaluator>evaluator.rm.action.cutoff</evaluator>
         </action>

         <!-- Destroy -->
         <action id="rm-destroy" type="javascript" label="actions.destroy" icon="../../../rm/components/documentlibrary/actions/rm-destroy">
            <param name="function">onActionDestroy</param>
            <evaluator>evaluator.rm.action.destroy</evaluator>
         </action>

         <!-- Transfer -->
         <action id="rm-transfer" type="javascript" label="actions.transfer" icon="../../../rm/components/documentlibrary/actions/rm-transfer">
            <param name="function">onActionTransfer</param>
            <evaluator>evaluator.rm.action.transfer</evaluator>
         </action>

         <!-- Accession -->
         <action id="rm-accession" type="javascript" label="actions.accession" icon="../../../rm/components/documentlibrary/actions/rm-accession">
            <param name="function">onActionAccession</param>
            <evaluator>evaluator.rm.action.accession</evaluator>
            <evaluator>evaluator.rm.action.incompleteEvent</evaluator>
         </action>

         <!-- Undo Cutoff -->
         <action id="rm-undo-cutoff" type="javascript" label="actions.undo-cutoff" icon="../../../rm/components/documentlibrary/actions/rm-undo-cutoff">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">unCutoff</param>
            <param name="message">message.undo-cutoff</param>
            <evaluator>evaluator.rm.action.undo-cutoff</evaluator>
         </action>

         <!-- Edit Disposition As Of Date -->
         <action id="rm-edit-disposition-as-of-date" type="javascript" label="actions.edit-disposition-as-of-date" icon="../../../rm/components/documentlibrary/actions/rm-edit-disposition-as-of-date">
            <param name="function">onActionEditDispositionAsOf</param>
            <evaluator>evaluator.rm.action.edit-disposition-as-of-date</evaluator>
         </action>

         <!-- Download Electronic Record -->
         <action id="rm-download" type="link" label="actions.download" icon="../../../rm/components/documentlibrary/actions/rm-download">
            <param name="href">{downloadUrl}</param>
            <evaluator>evaluator.rm.common.isElectronicRecord</evaluator>
         </action>

         <!-- Edit Review As Of Date -->
         <action id="rm-edit-review-as-of-date" type="javascript" label="actions.edit-review-as-of-date" icon="../../../rm/components/documentlibrary/actions/rm-edit-review-as-of-date">
            <param name="function">onActionEditReviewAsOf</param>
            <evaluator>evaluator.rm.action.edit-review-as-of-date</evaluator>
         </action>

         <!-- Declare Record -->
         <action id="rm-declare" type="javascript" label="actions.declare" icon="../../../rm/components/documentlibrary/actions/rm-declare">
            <param name="function">onActionDeclare</param>
            <evaluator>evaluator.rm.action.declare</evaluator>
         </action>

         <!-- Undeclare Record -->
         <action id="rm-undeclare" type="javascript" label="actions.undeclare" icon="../../../rm/components/documentlibrary/actions/rm-undeclare">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">undeclareRecord</param>
            <param name="message">message.undeclare</param>
            <evaluator>evaluator.rm.action.undeclare</evaluator>
         </action>

         <!-- Add Record Metadata -->
         <action id="rm-add-record-metadata" type="javascript" label="actions.add-record-metadata" icon="../../../rm/components/documentlibrary/actions/rm-add-record-metadata">
            <param name="function">onActionAddRecordMetadata</param>
            <evaluator>evaluator.rm.action.add-record-metadata</evaluator>
         </action>

         <!-- Split Email -->
         <action id="rm-split-email" type="javascript" label="actions.split-email" icon="../../../rm/components/documentlibrary/actions/rm-split-email">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">splitEmail</param>
            <param name="message">message.split-email</param>
            <evaluator>evaluator.rm.action.split-email</evaluator> <!-- undeclared record, mimetype = message/rfc822 -->
         </action>

         <!-- Download Zip -->
         <action id="rm-download-zip" type="link" label="actions.download-zip" icon="../../../rm/components/documentlibrary/actions/rm-download-zip">
            <param name="href">{transfersZipUrl}</param>
            <evaluator>evaluator.rm.action.download-zip</evaluator>
         </action>

         <!-- File Report -->
         <action id="rm-file-report" type="javascript" label="actions.file-report" icon="../../../rm/components/documentlibrary/actions/rm-file-report">
            <param name="function">onActionFileTransferReport</param>
            <param name="action">fileReport</param>
            <param name="success">fileReportSuccess</param>
            <param name="failure">fileReportFailure</param>
            <evaluator>evaluator.rm.action.fileTransferReport</evaluator>
         </action>

         <!-- Transfer Complete -->
         <action id="rm-transfer-complete" type="javascript" label="actions.transfer-complete" icon="../../../rm/components/documentlibrary/actions/rm-transfer-complete">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">transferComplete</param>
            <param name="message">message.transfer-complete</param>
            <evaluator>evaluator.rm.action.transfer-complete</evaluator>
         </action>

         <action id="rm-accession-complete" type="javascript" label="actions.transfer-complete" icon="../../../rm/components/documentlibrary/actions/rm-transfer-complete">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">accessionComplete</param>
            <param name="message">message.transfer-complete</param>
            <evaluator>evaluator.rm.action.accession-complete</evaluator>
         </action>

         <!-- Reject record -->
         <action id="rm-reject" type="javascript" label="actions.reject" icon="../../../rm/components/documentlibrary/actions/rm-reject">
            <param name="function">onActionReject</param>
            <evaluator>evaluator.rm.action.reject</evaluator>
         </action>

         <!-- Request Info -->
         <action id="rm-request-info" type="javascript" label="actions.request-info" icon="../../../rm/components/documentlibrary/actions/rm-request-info">
            <param name="function">onActionRequestInfo</param>
            <evaluator>evaluator.rm.action.request-info</evaluator>
         </action>

         <!--  File destruction report -->
         <action id="rm-file-destruction-report" type="javascript" label="actions.file-destruction-report" icon="../../../rm/components/documentlibrary/actions/rm-destruction-report">
            <param name="function">onActionFileDestructionReport</param>
            <param name="action">fileReport</param>
            <param name="success">fileReportSuccess</param>
            <param name="failure">fileReportFailure</param>
            <evaluator>evaluator.rm.action.fileDestructionReport</evaluator>
         </action>

         <!-- End retention -->
         <action id="rm-end-retention" type="javascript" label="actions.end-retention" icon="../../../rm/components/documentlibrary/actions/rm-hide-record">
            <param name="function">onActionRecordsManagementRepoAction</param>
            <param name="action">retain</param>
            <param name="message">message.end-retention</param>
            <evaluator>evaluator.rm.action.endRetention</evaluator>
         </action>

         <!-- Add to Hold -->
         <action id="rm-add-to-hold" type="javascript" label="actions.add-to-hold" icon="../../../rm/components/documentlibrary/actions/rm-add-to-hold">
            <param name="function">onActionAddToHold</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isLocked</evaluator>
            <evaluator>evaluator.action.addToHold</evaluator>
         </action>

         <!-- Remove from Hold -->
         <action id="rm-remove-from-hold" type="javascript" label="actions.remove-from-hold" icon="../../../rm/components/documentlibrary/actions/rm-remove-from-hold">
            <param name="function">onActionRemoveFromHold</param>
            <evaluator>evaluator.action.removeFromHold</evaluator>
         </action>

         <!--  File hold report -->
         <action id="rm-file-hold-report" type="javascript" label="actions.file-hold-report" icon="../../../rm/components/documentlibrary/actions/rm-destruction-report">
            <param name="function">onActionFileHoldReport</param>
            <param name="action">fileReport</param>
            <param name="success">fileReportSuccess</param>
            <param name="failure">fileReportFailure</param>
            <evaluator>evaluator.rm.action.fileHoldReport</evaluator>
         </action>

         <!-- Delete Hold -->
         <action id="rm-delete-hold" type="javascript" label="actions.delete.hold" icon="../../../components/documentlibrary/actions/folder-delete">
            <param name="function">onHoldDelete</param>
            <evaluator>evaluator.rm.action.deleteHold</evaluator>
         </action>

         <!--  Edit Hold -->
         <action id="rm-edit-hold" type="pagelink" label="action.edit.hold" icon="folder-edit-metadata">
            <param name="page">edit-metadata?nodeRef={node.nodeRef}</param>
            <evaluator>evaluator.rm.action.editHold</evaluator>
         </action>

         <!--  DM Actions -->

         <!-- Declare and File to -->
         <action id="rm-declare-file-to" type="javascript" label="actions.declare-file-to"
                 icon="../../../rm/components/documentlibrary/actions/rm-file-to">
            <param name="function">onActionDeclareAndFileTo</param>
            <param name="action">create-record</param>
            <param name="success">onCreateRecordSuccess</param>
            <param name="successMessage">message.create-record.success</param>
            <param name="failureMessage">message.create-record.failure</param>
            <param name="path">{path}</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <!-- The same evaluators as for create record: editable by current user, is not locked, is not a working copy, is not synced,
                  is not reject as record and the rm site exists -->
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isLocked</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isWorkingCopy</evaluator>
            <evaluator negate="true">evaluator.rm.doclib.isRejectedRecord</evaluator>
            <evaluator>evaluator.doclib.action.siteBased</evaluator>
            <evaluator>evaluator.rm.doclib.action.rmSiteExists</evaluator>
            <evaluator>evaluator.rm.doclib.isUserRecordContributor</evaluator>
         </action>

         <!-- Declare and File Version as Record -->
         <action id="rm-declare-file-version-to" type="javascript" label="actions.declare-file-version-to"
                 icon="../../../rm/components/documentlibrary/actions/rm-file-to">
            <param name="function">onActionDeclareVersionAndFileTo</param>
            <param name="action">declare-as-version-record</param>
            <param name="success">onCreateRecordSuccess</param>
            <param name="successMessage">message.declare-version-as-record.success</param>
            <param name="failureMessage">message.declare-version-as-record.failure</param>
            <param name="path">{path}</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <!-- The same evaluators as for declare version as record: editable by current user, is not locked, is
            not a working copy, is not synced, is not reject as record and the rm site exists -->
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isLocked</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isWorkingCopy</evaluator>
            <evaluator negate="true">evaluator.rm.doclib.isRejectedRecord</evaluator>
            <evaluator>evaluator.rm.doclib.action.hasVersionableAspect</evaluator>
            <evaluator>evaluator.doclib.action.siteBased</evaluator>
            <evaluator>evaluator.rm.doclib.action.rmSiteExists</evaluator>
            <evaluator>evaluator.rm.doclib.isUserRecordContributor</evaluator>
         </action>

         <!--  Hide Record -->
         <action id="rm-hide-record" type="javascript" label="actions.hide-record" icon="../../../rm/components/documentlibrary/actions/rm-hide-record">
            <param name="function">onHideRecordAction</param>
            <param name="action">hide-record</param>
            <param name="success">onHideRecordSuccess</param>
            <param name="successMessage">message.hide-record.success</param>
            <param name="failureMessage">message.hide-record.failure</param>
            <evaluator>evaluator.rm.action.hide</evaluator>
            <evaluator negate="true">evaluator.rm.indicator.frozen</evaluator>
         </action>

         <!-- Move record in a collab site -->
         <action id="dm-move-record" type="javascript" label="actions.move-dm-record" icon="../../../components/documentlibrary/actions/document-move-to">
            <param name="function">onActionDmMoveTo</param>
            <param name="action">move-dm-record</param>
            <param name="successMessage">message.moveDmRecord.success</param>
            <param name="failureMessage">message.moveDmRecord.failure</param>
            <param name="targetNodeRef">{targetNodeRef}</param>
            <evaluator>evaluator.rm.action.moveDmRecord</evaluator>
            <evaluator negate="true">evaluator.rm.indicator.frozen</evaluator>
         </action>

         <!-- Recorded version configuration -->
         <action id="dm-recorded-version-config" type="javascript" label="actions.recorded-version-config" icon="../../../rm/components/documentlibrary/actions/rm-recorded-version-config">
            <param name="function">onRecordedVersionConfig</param>
            <param name="action">recorded-version-config</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <!--  Can only configure recorded version if editable by current user, is not locked, is not a working copy, is not synced,
                  is not reject as record, rm site exists and has the versionable aspect -->
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isLocked</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isWorkingCopy</evaluator>
            <evaluator negate="true">evaluator.rm.doclib.isRejectedRecord</evaluator>
            <evaluator>evaluator.rm.doclib.action.hasVersionableAspect</evaluator>
            <evaluator>evaluator.doclib.action.siteBased</evaluator>
            <evaluator>evaluator.rm.doclib.action.rmSiteExists</evaluator>
            <evaluator>evaluator.rm.doclib.isUserRecordContributor</evaluator>
         </action>

         <!-- Add relationship -->
         <action id="rm-add-relationship" type="javascript" label="actions.add-relationship" icon="../../../rm/components/documentlibrary/actions/rm-add-relationship">
            <param name="function">onAddRelationship</param>
            <evaluator>evaluator.rm.action.editReferences</evaluator>
         </action>
      </actions>

      <!--
         Action Group definitions
      -->
      <actionGroups>
         <actionGroup id="empty"/>

         <actionGroup id="rm-fileplan-details">
         </actionGroup>

         <actionGroup id="rm-record-category-browse">
            <action index="100" id="rm-record-category-view-details" />
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-manage-permissions" />
            <action index="130" id="rm-copy-recordcategory-to" />
            <action index="140" id="rm-move-recordcategory-to" />
            <action index="150" id="rm-delete" label="actions.delete" />
            <action index="160" id="rm-view-audit-log" />
            <action index="170" id="rm-manage-rules-filed" />
         </actionGroup>
         <actionGroup id="rm-record-category-details">
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-manage-permissions" />
            <action index="130" id="rm-copy-recordcategory-to" />
            <action index="140" id="rm-move-recordcategory-to" />
            <action index="150" id="rm-delete" label="actions.delete" />
            <action index="160" id="rm-view-audit-log" />
            <action index="170" id="rm-manage-rules-filed" />
         </actionGroup>

         <actionGroup id="rm-record-folder-browse">
            <action index="100" id="rm-record-folder-view-details" />
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-close-folder" />
            <action index="130" id="rm-open-folder" />
            <action index="140" id="rm-review-all" />
            <action index="150" id="rm-cutoff" icon="../../../rm/components/documentlibrary/actions/rm-cutoff-folder" />
            <action index="155" id="rm-end-retention" />
            <action index="160" id="rm-destroy" />
            <action index="165" id="rm-file-destruction-report" />
            <action index="170" id="rm-transfer" />
            <action index="180" id="rm-accession" />
            <action index="190" id="rm-undo-cutoff" />
            <action index="200" id="rm-edit-disposition-as-of-date" />
            <action index="210" id="rm-add-to-hold" icon="../../../rm/components/documentlibrary/actions/rm-add-to-hold-folder" />
            <action index="220" id="rm-remove-from-hold" icon="../../../rm/components/documentlibrary/actions/rm-remove-from-hold-folder" />
            <action index="230" id="rm-copy-recordfolder-to" />
            <action index="240" id="rm-move-recordfolder-to" />
            <action index="250" id="rm-link-to" />
            <action index="255" id="rm-unlink-from" />
            <action index="260" id="rm-manage-permissions" />
            <action index="270" id="rm-delete" label="actions.delete" />
            <action index="280" id="rm-view-audit-log" />
            <action index="290" id="rm-manage-rules-filed" />
         </actionGroup>
         <actionGroup id="rm-record-folder-details">
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-close-folder" />
            <action index="130" id="rm-open-folder" />
            <action index="140" id="rm-review-all" />
            <action index="150" id="rm-cutoff" icon="../../../rm/components/documentlibrary/actions/rm-cutoff-folder" />
            <action index="155" id="rm-end-retention" />
            <action index="160" id="rm-destroy" />
            <action index="165" id="rm-file-destruction-report" />
            <action index="170" id="rm-transfer" />
            <action index="180" id="rm-accession" />
            <action index="190" id="rm-undo-cutoff" />
            <action index="200" id="rm-edit-disposition-as-of-date" />
            <action index="210" id="rm-add-to-hold" icon="../../../rm/components/documentlibrary/actions/rm-add-to-hold-folder" />
            <action index="220" id="rm-remove-from-hold" icon="../../../rm/components/documentlibrary/actions/rm-remove-from-hold-folder" />
            <action index="230" id="rm-copy-recordfolder-to" />
            <action index="240" id="rm-move-recordfolder-to" />
            <action index="250" id="rm-link-to" />
            <action index="260" id="rm-manage-permissions" />
            <action index="270" id="rm-delete" label="actions.delete" />
            <action index="280" id="rm-view-audit-log" />
            <action index="290" id="rm-manage-rules-filed" />
         </actionGroup>

         <actionGroup id="rm-record-browse">
            <action index="100" id="rm-document-download" />
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-reviewed" />
            <action index="130" id="rm-edit-review-as-of-date" />
            <action index="140" id="rm-undeclare" />
            <action index="150" id="rm-cutoff" />
            <action index="155" id="rm-end-retention" />
            <action index="160" id="rm-destroy" />
            <action index="165" id="rm-file-destruction-report" />
            <action index="170" id="rm-transfer" />
            <action index="180" id="rm-accession" />
            <action index="190" id="rm-undo-cutoff" />
            <action index="200" id="rm-edit-disposition-as-of-date" />
            <action index="210" id="rm-add-to-hold" />
            <action index="220" id="rm-remove-from-hold" />
            <action index="230" id="rm-copy-record-to" />
            <action index="235" id="rm-copy-unfiledrecord-to" />
            <action index="240" id="rm-move-record-to" />
            <action index="245" id="rm-move-unfiledrecord-to" />
            <action index="250" id="rm-link-to" />
            <action index="255" id="rm-unlink-from" />
            <action index="260" id="rm-file-to" />
            <action index="270" id="rm-delete" label="actions.delete" icon="../../../rm/components/documentlibrary/images/delete-record" />
            <action index="280" id="rm-view-audit-log" />
            <action index="290" id="rm-manage-permissions" />
            <action index="300" id="rm-add-relationship" />
         </actionGroup>

         <actionGroup id="rm-doclib-record-browse">
            <action index="100" id="rm-document-download" />
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-hide-record" />
            <action index="130" id="dm-move-record" />
         </actionGroup>

         <actionGroup id="rm-record-details">
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-reviewed" />
            <action index="130" id="rm-edit-review-as-of-date" />
            <action index="140" id="rm-undeclare" />
            <action index="150" id="rm-cutoff" />
            <action index="155" id="rm-end-retention" />
            <action index="160" id="rm-destroy" />
            <action index="165" id="rm-file-destruction-report" />
            <action index="170" id="rm-transfer" />
            <action index="180" id="rm-accession" />
            <action index="190" id="rm-undo-cutoff" />
            <action index="200" id="rm-edit-disposition-as-of-date" />
            <action index="210" id="rm-add-to-hold" />
            <action index="220" id="rm-remove-from-hold" />
            <action index="230" id="rm-copy-record-to" />
            <action index="235" id="rm-copy-unfiledrecord-to" />
            <action index="240" id="rm-move-record-to" />
            <action index="245" id="rm-move-unfiledrecord-to" />
            <action index="250" id="rm-link-to" />
            <action index="260" id="rm-file-to" />
            <action index="270" id="rm-delete" label="actions.delete" />
            <action index="280" id="rm-view-audit-log" />
            <action index="290" id="rm-manage-permissions" />
            <action index="300" id="rm-add-relationship" />
         </actionGroup>

         <actionGroup id="rm-doclib-record-details">
            <action index="100" id="rm-document-download" />
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-hide-record" />
            <action index="130" id="dm-move-record" />
         </actionGroup>

         <actionGroup id="rm-undeclared-record-browse">
            <action index="100" id="rm-document-download" />
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-declare" />
            <action index="122" id="rm-reviewed" />
            <action index="128" id="rm-edit-review-as-of-date" />
            <action index="130" id="rm-add-record-metadata" />
            <action index="135" id="rm-add-to-hold" />
            <action index="140" id="rm-remove-from-hold" />
            <action index="145" id="rm-split-email" />
            <action index="150" id="rm-copy-record-to" />
            <action index="155" id="rm-copy-unfiledrecord-to" />
            <action index="160" id="rm-move-record-to" />
            <action index="160" id="rm-move-unfiledrecord-to" />
            <action index="170" id="rm-link-to" />
            <action index="175" id="rm-unlink-from" />
            <action index="180" id="rm-file-to" />
            <action index="190" id="rm-delete" label="actions.delete" icon="../../../rm/components/documentlibrary/images/delete-record" />
            <action index="200" id="rm-view-audit-log" />
            <action index="210" id="rm-reject" />
            <action index="220" id="rm-request-info" />
            <action index="230" id="rm-manage-permissions" />
            <action index="240" id="rm-add-relationship" />
         </actionGroup>

         <actionGroup id="rm-doclib-undeclared-record-browse">
            <action index="100" id="rm-document-download" />
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-hide-record" />
            <action index="130" id="dm-move-record" />
         </actionGroup>

         <actionGroup id="rm-undeclared-record-details">
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-declare" />
            <action index="122" id="rm-reviewed" />
            <action index="128" id="rm-edit-review-as-of-date" />
            <action index="130" id="rm-add-record-metadata" />
            <action index="135" id="rm-add-to-hold" />
            <action index="140" id="rm-remove-from-hold" />
            <action index="145" id="rm-split-email" />
            <action index="150" id="rm-copy-record-to" />
            <action index="155" id="rm-copy-unfiledrecord-to" />
            <action index="160" id="rm-move-record-to" />
            <action index="165" id="rm-move-unfiledrecord-to" />
            <action index="170" id="rm-link-to" />
            <action index="180" id="rm-file-to" />
            <action index="190" id="rm-delete" label="actions.delete" icon="../../../rm/components/documentlibrary/images/delete-record" />
            <action index="200" id="rm-view-audit-log" />
            <action index="210" id="rm-reject" />
            <action index="220" id="rm-request-info" />
            <action index="230" id="rm-manage-permissions" />
            <action index="240" id="rm-add-relationship" />
         </actionGroup>

         <actionGroup id="rm-doclib-undeclared-record-details">
            <action index="100" id="rm-document-download" />
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-hide-record" />
            <action index="130" id="dm-move-record" />
         </actionGroup>

         <actionGroup id="rm-metadata-stub-folder-browse">
            <action index="100" id="rm-record-folder-view-details" />
            <action index="101" id="rm-file-destruction-report" />
            <action index="110" id="rm-manage-permissions" />
            <action index="115" id="rm-move-recordfolder-to" />
            <action index="120" id="rm-delete" label="actions.delete" />
            <action index="130" id="rm-view-audit-log" />
         </actionGroup>
         <actionGroup id="rm-metadata-stub-folder-details">
            <action index="50" id="rm-file-destruction-report" />
            <action index="110" id="rm-manage-permissions" />
            <action index="150" id="rm-move-recordfolder-to" />
            <action index="120" id="rm-delete" label="actions.delete" />
            <action index="130" id="rm-view-audit-log" />
         </actionGroup>

         <actionGroup id="rm-metadata-stub-browse">
            <action index="50" id="rm-file-destruction-report" />
            <action index="100" id="rm-delete" label="actions.delete" />
            <action index="110" id="rm-view-audit-log" />
         </actionGroup>
         <actionGroup id="rm-metadata-stub-details">
            <action index="50" id="rm-file-destruction-report" />
            <action index="100" id="rm-delete" label="actions.delete" />
            <action index="110" id="rm-view-audit-log" />
         </actionGroup>

         <actionGroup id="rm-transfer-container-browse">
            <action index="100" id="rm-download-zip" />
            <action index="110" id="rm-file-report" />
            <action index="120" id="rm-transfer-complete" />
            <action index="125" id="rm-accession-complete" />
            <action index="130" id="rm-view-audit-log" />
            <action index="140" id="rm-manage-permissions" />
         </actionGroup>
         <actionGroup id="rm-transfer-container-details">
            <action index="100" id="rm-download-zip" />
            <action index="110" id="rm-file-report" />
            <action index="120" id="rm-transfer-complete" />
            <action index="125" id="rm-accession-complete" />
            <action index="130" id="rm-view-audit-log" />
            <action index="140" id="rm-manage-permissions" />
         </actionGroup>

         <actionGroup id="rm-hold-browse">
            <action index="100" id="rm-edit-hold"/>
            <action index="110" id="rm-manage-permissions" />
            <action index="120" id="rm-delete-hold" />
            <action index="125" id="rm-file-hold-report"/>
            <action index="130" id="rm-view-audit-log" />
         </actionGroup>
         <actionGroup id="rm-hold-details">
            <action index="100" id="rm-edit-hold"/>
            <action index="110" id="rm-manage-permissions" />
            <action index="120" id="rm-delete-hold" />
            <action index="125" id="rm-file-hold-report"/>
            <action index="130" id="rm-view-audit-log" />
         </actionGroup>

         <actionGroup id="rm-unfiled-record-folder-browse">
            <action index="100" id="rm-record-folder-view-details" />
            <action index="110" id="rm-edit-details" />
            <action index="120" id="rm-manage-permissions" />
            <action index="125" id="rm-copy-unfiledrecordfolder-to" />
            <action index="126" id="rm-move-unfiledrecordfolder-to" />
            <action index="130" id="rm-delete" label="actions.delete" />
            <action index="140" id="rm-view-audit-log" />
            <action index="150" id="rm-manage-rules-unfiled" />
         </actionGroup>
         <actionGroup id="rm-unfiled-record-folder-details">
            <action index="100" id="rm-edit-details" />
            <action index="110" id="rm-manage-permissions" />
            <action index="115" id="rm-copy-unfiledrecordfolder-to" />
            <action index="115" id="rm-move-unfiledrecordfolder-to" />
            <action index="120" id="rm-delete" label="actions.delete" />
            <action index="130" id="rm-view-audit-log" />
            <action index="140" id="rm-manage-rules-unfiled" />
         </actionGroup>

         <!--  Extensions to the standard DM UI actions -->
         <actionGroup id="document-browse">
            <action index="400" id="rm-declare-file-to" />
            <action index="410" id="rm-declare-file-version-to" />
            <action index="415" id="dm-recorded-version-config" />
         </actionGroup>
         <actionGroup id="document-details">
            <action index="400" id="rm-declare-file-to" />
            <action index="410" id="rm-declare-file-version-to" />
            <action index="415" id="dm-recorded-version-config" />
         </actionGroup>

         <actionGroup id="rm-frozencontent-browse">
            <action index="400" id="document-view-content" />
            <action index="410" id="document-download" />
            <action index="420" id="document-manage-granular-permissions" />
            <action index="440" id="rm-remove-from-hold" />
         </actionGroup>

         <actionGroup id="rm-doclib-frozencontent-browse">
            <action index="400" id="document-view-content" />
            <action index="410" id="document-download" />
            <action index="420" id="document-manage-granular-permissions" />
         </actionGroup>

         <actionGroup id="rm-doclib-frozencontent-details">
            <action index="400" id="document-view-content" />
            <action index="420" id="document-manage-granular-permissions" />
         </actionGroup>

      </actionGroups>
   </config>

   <!-- Global config section -->
   <config replace="true">
      <header>
         <!-- The number of sites to display in the recent history group of the sites menu -->
         <max-recent-sites>5</max-recent-sites>
         <!--  The number of sites page links (e.g. "Dashboard", "Document Library", "Calendar", etc
               that will be displayed on any site page for navigation. All other site pages will be
               displayed under a "More" drop down menu. The current site page will always be displayed -->
         <max-displayed-site-pages>5</max-displayed-site-pages>
         <!-- This indicates whether or not to use the configuration defined in this "header" element for rendering
              the header menu bar. If this is set to "false" or it not defined then the header bar will be rendered
              using the design implemented for 4.2 Enterprise. The header definition can be found in the associated
              WebScript controller.
         -->
         <legacy-mode-enabled>false</legacy-mode-enabled>
         <!-- This is the configuration that will be used to populate the header menu bar when "legacy-mode-enabled"
              has been set to true -->
         <app-items>
            <!-- defaults: icon="{id}.png" label="header.{id}.label" description="header.{id}.description" -->
            <item type="link" id="my-dashboard">{userdashboardpage}</item>
            <item type="js" id="sites">Alfresco.module.Sites</item>
            <item type="link" id="people">/people-finder</item>
            <item type="link" id="repository" condition="conditionRepositoryRootNode">/repository</item>
            <item type="container" id="more">
               <container-group id="my">
                  <item type="link" id="my-tasks">/my-tasks#filter=workflows|active</item>
                  <item type="link" id="my-workflows">/my-workflows#filter=workflows|active</item>
                  <item type="link" id="my-content">/user/user-content</item>
                  <item type="link" id="my-sites">/user/user-sites</item>
                  <item type="link" id="my-profile">{userprofilepage}</item>
               </container-group>
               <!-- RM Customization -->
               <container-group id="rm-console">
                  <item type="link" id="rm-management">/console/rm-console/</item>
               </container-group>
               <container-group id="tools" permission="admin">
                  <item type="link" id="application">/console/admin-console/application</item>
                  <item type="link" id="groups">/console/admin-console/groups</item>
                  <item type="link" id="replication-jobs" condition="!conditionEditionTeam">/console/admin-console/replication-jobs</item>
                  <item type="link" id="repository">/console/admin-console/repository</item>
                  <item type="link" id="trashcan">/console/admin-console/trashcan</item>
                  <item type="link" id="users">/console/admin-console/users</item>
                  <item type="link" id="more">/console/admin-console/</item>
               </container-group>
            </item>
         </app-items>
         <user-items>
            <item type="container" id="user" icon="" description="">
               <container-group id="usermenu" label="">
                  <item type="user" id="status">{userprofilepage}</item>
                  <item type="link" id="my-profile">{userprofilepage}</item>
                  <item type="link" id="change-password" condition="user.capabilities.isMutable">/user/change-password</item>
                  <item type="external-link" id="help">{share-help}</item>
                  <item type="link" id="logout" condition="!context.externalAuthentication">/dologout</item>
               </container-group>
            </item>
         </user-items>
         <dependencies>
            <css src="/modules/create-site.css" />
            <css src="/modules/header/sites.css" />
            <js src="/modules/create-site.js" />
            <js src="/modules/header/sites.js" />
            <!-- RM Customization -->
            <js src="/rm/js/alfresco-rm.js" />
            <js src="/rm/js/event-delegator.js" />
            <js src="/rm/modules/create-site.js" />
            <js src="/rm/modules/documentlibrary/hold/hold.css" />
            <js src="/rm/modules/documentlibrary/hold/hold.js" />
            <js src="/rm/modules/documentlibrary/hold/add-to-hold.js" />

         </dependencies>
      </header>
   </config>

   <!-- Workflow config section -->
   <config evaluator="string-compare" condition="Workflow">
      <!-- A list of workflow definitions that are NOT displayed in Share -->
      <hidden-workflows>
         <!-- Hide request info workflow -->
         <workflow name="activiti$activitiRequestForInformation"/>
      </hidden-workflows>
   </config>
</alfresco-config>
