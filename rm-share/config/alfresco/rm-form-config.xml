<alfresco-config>
   
   <plug-ins>
      <evaluators>
         <evaluator id="rm-kind" class="org.alfresco.module.org_alfresco_module_rm_share.forms.KindEvaluator" />
      </evaluators>
   </plug-ins>
   
   <config>
      <forms>
         <dependencies>
            <js src="/rm/js/validation-min.js" />
         </dependencies>
      </forms>   
   </config>
   
   <!-- Records Management Viewing and Editing Forms -->
   <config evaluator="node-type" condition="rma:dispositionSchedule">
      <forms>
         <form id="rm">
            <field-visibility>
               <show id="rma:dispositionAuthority" />
               <show id="rma:dispositionInstructions" />
               <show id="rma:recordLevelDisposition" />
            </field-visibility>
            <appearance>
               <field id="rma:recordLevelDisposition" label-id="label.recordLevelDisposition">
                  <control template="controls/selectone.ftl">
                     <control-param name="options">true|{label.record},false|{label.folder}</control-param>
                  </control>
               </field>
            </appearance>
         </form>
      </forms>
   </config>

   <config evaluator="model-type" condition="rma:nonElectronicDocument">
      <forms>
         <form>
            <field-visibility>
               <show id="cm:name" />
               <show id="cm:title" force="true" />
               <show id="cm:description" force="true" />
               <show id="rma:physicalSize" force="true" />
               <show id="rma:numberOfCopies" force="true" />
               <show id="rma:storageLocation" force="true" />
               <show id="rma:shelf" force="true" />
               <show id="rma:box" force="true" />
               <show id="rma:file" force="true" />
            </field-visibility>
            <create-form template="/org/alfresco/rm/components/form/create-container.ftl" />
            <appearance>               
               
               <set id="rm-custom" label-id="label.set.customMetadata" appearance="panel" /> 
               
               <field id="cm:title" mandatory="true">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:description">
                  <control>
                     <control-param name="activateLinks">true</control-param>
                  </control>
               </field>
            </appearance>
         </form>
      </forms>
   </config>
   
   <config evaluator="node-type" condition="rma:nonElectronicDocument">
      <forms>
         <form>
            <field-visibility>
               <show id="cm:name" />
               <show id="cm:title" />
               <show id="cm:description" />
               <show id="rma:physicalSize" />
               <show id="rma:numberOfCopies" />
               <show id="rma:storageLocation" />
               <show id="rma:shelf" />
               <show id="rma:box" />
               <show id="rma:file" />
            </field-visibility>
            <appearance>
               <field id="cm:title" mandatory="true">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:description">
                  <control>
                     <control-param name="activateLinks">true</control-param>
                  </control>
               </field>
            </appearance>
         </form>
      </forms>
   </config>
   
   <config evaluator="model-type" condition="rma:recordCategory">
      <forms>
         <form>
            <field-visibility>
               <show id="cm:name" force="true"/>
               <show id="cm:title" force="true" />
               <show id="cm:description" force="true" />
            </field-visibility>
            <create-form template="/org/alfresco/rm/components/form/create-container.ftl" />
            <appearance>
               <field id="cm:title" mandatory="true">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:description">
                  <control>
                     <control-param name="activateLinks">true</control-param>
                  </control>
               </field>
            </appearance>
         </form>
      </forms>
   </config>
   
   <config evaluator="node-type" condition="rma:recordCategory">
      <forms>
         <form>
            <field-visibility>
               <show id="cm:name" />
               <show id="cm:title" />
               <show id="cm:description" />
            </field-visibility>
            <appearance>
               <field id="cm:title" mandatory="true">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:description">
                  <control>
                     <control-param name="activateLinks">true</control-param>
                  </control>
               </field>
            </appearance>
         </form>
      </forms>
   </config>
   
   <config evaluator="rm-kind" condition="RECORD_CATEGORY">
      <forms>
         <form>             
            <field-visibility>
            
               <!--  Record category fields -->
               <show id="rma:identifier" for-mode="view"/>
               
               <!--  Vital Record fields -->
               <show id="rma:vitalRecordIndicator" force="true" />
               <show id="rma:reviewPeriod" force="true" />
               
            </field-visibility>
            
            <appearance>            
            
               <set id="rm-record-cat" /> 
               <set id="rm-vital-record" label="Vital Record" appearance="panel"/>
               <set id="rm-custom" label-id="label.set.customMetadata" appearance="panel" /> 
               
               <!--  Record folder fields --> 
               <field id="rma:identifier" label-id="label.categoryIdentifier" read-only="true" set="rm-record-cat"/>               
               
               <!--  Vital record fields -->
               <field id="rma:vitalRecordIndicator" set="rm-vital-record">
                  <control template="/org/alfresco/rm/components/form/controls/vital-record-indicator.ftl" />
               </field> 
               <field id="rma:reviewPeriod" set="rm-vital-record">
                  <constraint-handlers>
                     <constraint type="MANDATORY" validation-handler="Alfresco.forms.validation.rmVitalRecordPeriodMandatory" />
                  </constraint-handlers>
               </field>
               
            </appearance>
         </form>
      </forms>
   </config>
   
   <config evaluator="model-type" condition="rma:recordFolder">
      <forms>
         <form>
            <field-visibility>
               <show id="cm:name" force="true"/>
               <show id="cm:title" force="true" />
               <show id="cm:description" force="true" />
            </field-visibility>
            <create-form template="/org/alfresco/rm/components/form/create-container.ftl" />
            <appearance>
               <field id="cm:title" mandatory="true">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:description">
                  <control>
                     <control-param name="activateLinks">true</control-param>
                  </control>
               </field>
            </appearance>
         </form>
      </forms>
   </config>
   
   <config evaluator="node-type" condition="rma:recordFolder">
      <forms>
         <form>
            <field-visibility>
               <show id="cm:name" />
               <show id="cm:title" />
               <show id="cm:description" />
            </field-visibility>
            <appearance>
               <field id="cm:title" mandatory="true">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:description">
                  <control>
                     <control-param name="activateLinks">true</control-param>
                  </control>
               </field>
            </appearance>
         </form>
      </forms>
   </config>
   
   <config evaluator="rm-kind" condition="RECORD_FOLDER">
      <forms>
         <form>             
            <field-visibility>
            
               <!--  Record folder fields -->
               <show id="rma:identifier" for-mode="view"/>
               <show id="rma:location" />
               <show id="rmc:supplementalMarkingList" force="true" />
               
               <!--  Vital Record fields -->
               <show id="rma:vitalRecordIndicator" force="true" />
               <show id="rma:reviewPeriod" force="true" />

               <!--  Disposition Details -->
               <show id="rmCategoryIdentifier" for-mode="view"/>               
               <show id="rmDispositionInstructions" for-mode="view"/>
               <show id="rma:cutOffDate" for-mode="view"/>
               <show id="rma:recordSearchDispositionActionAsOf" for-mode="view"/>
               
            </field-visibility>
            
            <appearance>            
            
               <set id="rm-record-folder" /> 
               <set id="rm-vital-record" label-id="label.set.vitalRecord" appearance="panel"/>
               <set id="rm-disposition" label-id="label.set.disposition" appearance="panel"/>
               <set id="rm-custom" label-id="label.set.customMetadata" appearance="panel" /> 
               
               <!--  Record folder fields --> 
               <field id="rma:identifier" label-id="label.folderIdentifier" read-only="true" set="rm-record-folder"/>               
               <field id="rma:location" set="rm-record-folder"/>
               <field id="rmc:supplementalMarkingList" set="rm-record-folder"/>
               
               <!--  Vital record fields -->
               <field id="rma:vitalRecordIndicator" set="rm-vital-record">
                  <control template="/org/alfresco/rm/components/form/controls/vital-record-indicator.ftl" />
               </field> 
               <field id="rma:reviewPeriod" set="rm-vital-record">
                  <constraint-handlers>
                     <constraint type="MANDATORY" validation-handler="Alfresco.forms.validation.rmVitalRecordPeriodMandatory" />
                  </constraint-handlers>
               </field>
            
               <!--  Disposition Details -->
               <field id="rmCategoryIdentifier" label-id="label.categoryIdentifier" set="rm-disposition" read-only="true" />
               <field id="rmDispositionInstructions" label-id="label.dispositionInstructions" read-only="true" set="rm-disposition"/>               
               <field id="rma:cutOffDate" read-only="true" set="rm-disposition"/>
               <field id="rma:recordSearchDispositionActionAsOf" label-id="label.dispositionAsOfDate" read-only="true" set="rm-disposition" />
               
            </appearance>
         </form>
      </forms>
   </config>
      
   
   <config evaluator="rm-kind" condition="RECORD">
      <forms>
         <form> 
            <field-visibility>
               
               <!--  Record fields -->
               <show id="rma:identifier" for-mode="view"/>
               <show id="rma:dateFiled" for-mode="view"/>
               <show id="rma:publicationDate" />
               <show id="rma:originator" />
               <show id="rma:originatingOrganization" />
               <show id="rma:mediaType" />
               <show id="rma:format" />
               <show id="rma:dateReceived" />
               <show id="rma:address" />
               <show id="rma:otherAddress" />
               <show id="rma:location" />
               <show id="rmc:supplementalMarkingList" />
               
               <!--  Vital Record fields -->
               <show id="rma:reviewAsOf" for-mode="view"/>
               
               <!--  Disposition Details -->
               <show id="rmCategoryIdentifier" for-mode="view"/>               
               <show id="rmDispositionInstructions" for-mode="view"/>
               <show id="rmDeclared" for-mode="view"/>
               <show id="rma:cutOffDate" for-mode="view"/>
               <show id="rma:recordSearchDispositionActionAsOf" for-mode="view"/>
               
            </field-visibility>
            
            <appearance>
               
               <set id="rm-record" label-id="label.set.record" appearance="panel" /> 
               <set id="rm-vital-record" label-id="label.set.vitalRecord" appearance="panel" />
               <set id="rm-disposition" label-id="label.set.disposition" appearance="panel" />
               <set id="rm-custom" label-id="label.set.customMetadata" appearance="panel" />       
               
               <!--  Record fields --> 
               <field id="rma:identifier" label-id="label.recordIdentifier" read-only="true" set="rm-record"/>               
               <field id="rma:dateFiled" set="rm-record" read-only="true"/>
               <field id="rma:publicationDate" set="rm-record"/>
               <field id="rma:originator" set="rm-record"/>
               <field id="rma:originatingOrganization" set="rm-record"/>
               <field id="rma:mediaType" set="rm-record"/>
               <field id="rma:format" set="rm-record"/>
               <field id="rma:dateReceived" set="rm-record"/>
               <field id="rma:address" set="rm-record"/>
               <field id="rma:otherAddress" set="rm-record"/>
               <field id="rma:location" set="rm-record"/>               
               <field id="rmc:supplementalMarkingList" set="rm-record"/>
            
               <!--  Vital Record fields -->
               <field id="rma:reviewAsOf" set="rm-vital-record" read-only="true" />
               
               <!--  Disposition Details -->
               <field id="rmCategoryIdentifier" label-id="label.categoryIdentifier" set="rm-disposition" read-only="true" />               
               <field id="rmDispositionInstructions" label-id="label.dispositionInstructions" read-only="true" set="rm-disposition"/>
               <field id="rmDeclared" label-id="label.declared" read-only="true" set="rm-disposition"/>
               <field id="rma:cutOffDate" read-only="true" set="rm-disposition"/>
               <field id="rma:recordSearchDispositionActionAsOf" label-id="label.dispositionAsOfDate" read-only="true" set="rm-disposition" />
            
            </appearance>
            
         </form>
      </forms>
   </config>
   
   <!--  Demo Forms -->
   
   <config evaluator="node-type" condition="demo:purchaseOrder">
      <forms>
         <!-- Default form configuration for the cm:content type -->
         <form>
            <field-visibility>
               <show id="cm:name" />
               <show id="cm:title" force="true" />
               <show id="cm:description" force="true" />
               <show id="mimetype" />
               <show id="cm:author" force="true" />
               <show id="size" for-mode="view" />
               <show id="cm:creator" for-mode="view" />
               <show id="cm:created" for-mode="view" />
               <show id="cm:modifier" for-mode="view" />
               <show id="cm:modified" for-mode="view" />
               
               <show id="demo:orderId"/>
               <show id="demo:customerId"/>
               <show id="demo:quantity"/>
               <show id="demo:deliveryDate"/>
               <show id="demo:confirmationSent"/>
               
               <!-- tags and categories -->
               <show id="cm:taggable" for-mode="edit" force="true" />
               <show id="cm:categories" />
               
               <!-- cm:dublincore aspect -->
               <show id="cm:publisher"/>
               <show id="cm:contributor"/>
               <show id="cm:type"/>
               <show id="cm:identifier"/>
               <show id="cm:dcsource"/>
               <show id="cm:coverage"/>
               <show id="cm:rights"/>
               <show id="cm:subject"/>
               
               <!-- cm:complianceable aspect -->
               <show id="cm:removeAfter" />
               
               <!-- cm:effectivity aspect -->
               <show id="cm:from"/>
               <show id="cm:to"/>
               
               <!--  cm:summarizable aspect -->
               <show id="cm:summary" />
               
               <!-- cm:translatable aspect -->
               <show id="cm:translations" />
               
               <!-- cm:localizable aspect -->
               <show id="cm:locale" />
               
               <!-- cm:ownable aspect -->
               <show id="cm:owner" />
               
               <!-- cm:attachable aspect -->
               <show id="cm:attachments" />
               
               <!-- cm:emailed aspect -->
               <show id="cm:originator" />
               <show id="cm:addressee" />
               <show id="cm:addressees" />
               <show id="cm:sentdate" />
               <show id="cm:subjectline" />
               
               <!-- exif:exif aspect -->
               <show id="exif:dateTimeOriginal" />
               <show id="exif:pixelXDimension" />
               <show id="exif:pixelYDimension" />
               <show id="exif:exposureTime" />
               <show id="exif:fNumber" />
               <show id="exif:flash" />
               <show id="exif:focalLength" />
               <show id="exif:isoSpeedRatings" />
               <show id="exif:manufacturer" />
               <show id="exif:model" />
               <show id="exif:software" />
               <show id="exif:orientation" />
               <show id="exif:xResolution" />
               <show id="exif:yResolution" />
               <show id="exif:resolutionUnit" />

               <!-- audio:audio aspect -->
               <show id="audio:album" />
               <show id="audio:artist" />
               <show id="audio:composer" />
               <show id="audio:engineer" />
               <show id="audio:genre" />
               <show id="audio:trackNumber" />
               <show id="audio:releaseDate" />
               <show id="audio:sampleRate" />
               <show id="audio:sampleType" />
               <show id="audio:channelType" />
               <show id="audio:compressor" />
               
               <!-- cm:indexControl aspect -->
               <show id="cm:isIndexed" />
               <show id="cm:isContentIndexed" />
               
               <!-- cm:geographic aspect -->
               <show id="cm:latitude" />
               <show id="cm:longitude" />
            </field-visibility>
            <appearance>
               <field id="cm:name">
                 <control>
                    <control-param name="maxLength">255</control-param>
                 </control>
               </field>
               <field id="cm:title">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:description">
                  <control>
                     <control-param name="activateLinks">true</control-param>
                  </control>
               </field>
               <field id="mimetype">
                  <control template="/org/alfresco/components/form/controls/mimetype.ftl" />
               </field>
               <field id="size">
                  <control template="/org/alfresco/components/form/controls/size.ftl" />
               </field>
               <field id="cm:taggable">
                  <control>
                     <control-param name="compactMode">true</control-param>
                     <control-param name="params">aspect=cm:taggable</control-param>
                     <control-param name="createNewItemUri">/api/tag/workspace/SpacesStore</control-param>
                     <control-param name="createNewItemIcon">tag</control-param>
                  </control>
               </field>
               <field id="cm:categories">
                  <control>
                     <control-param name="compactMode">true</control-param>
                  </control>
               </field>
               <field id="cm:originator" read-only="true" />
               <field id="cm:addressee" read-only="true" />
               <field id="cm:addressees" read-only="true" />
               <field id="cm:sentdate" read-only="true" />
               <field id="cm:subjectline" read-only="true" />
            </appearance>
         </form>

         <!-- Document Library pop-up Edit Metadata form -->
         <form id="doclib-simple-metadata">
            <field-visibility>
               <show id="cm:name" />
               <show id="cm:title" force="true" />
               <show id="cm:description" force="true" />
               
               <show id="demo:orderId"/>               
               <show id="demo:customerId"/>
               <show id="demo:quantity"/>
               <show id="demo:deliveryDate"/>
               <show id="demo:confirmationSent"/>
               
            </field-visibility>
            <edit-form template="../documentlibrary/forms/doclib-simple-metadata.ftl" />
            <appearance>
               <field id="cm:name">
                 <control>
                    <control-param name="maxLength">255</control-param>
                 </control>
               </field>
               <field id="cm:title">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:description">
                  <control>
                     <control-param name="activateLinks">true</control-param>
                  </control>
               </field>
               <field id="cm:taggable">
                  <control>
                     <control-param name="compactMode">true</control-param>
                     <control-param name="params">aspect=cm:taggable</control-param>
                     <control-param name="createNewItemUri">/api/tag/workspace/SpacesStore</control-param>
                     <control-param name="createNewItemIcon">tag</control-param>
                  </control>
               </field>
               <field id="cm:categories">
                  <control>
                     <control-param name="compactMode">true</control-param>
                  </control>
               </field>
            </appearance>
         </form>
         
         <!-- Document Library Inline Edit form -->
         <form id="doclib-inline-edit">
            <field-visibility>
               <show id="cm:name" />
               <show id="cm:title" force="true" />
               <show id="cm:description" force="true" />
               <show id="cm:content" force="true" />
            </field-visibility>
            <appearance>
               <field id="cm:name">
                 <control>
                    <control-param name="maxLength">255</control-param>
                 </control>
               </field>
               <field id="cm:title">
                  <control template="/org/alfresco/components/form/controls/textfield.ftl" />
               </field>
               <field id="cm:content">
                  <control>
                     <control-param name="editorAppearance">explorer</control-param>
                     <control-param name="forceEditor">true</control-param>
                  </control>
               </field>
            </appearance>
         </form>
      </forms>
   </config>
   
   
</alfresco-config>
