<extension>
   <modules>

     <module>
         <id>Alfresco :: Records Management Global (1)</id>
         <auto-deploy>true</auto-deploy>

         <!-- Base evaluator that decides if any of the component bindings should be used at all -->
         <evaluator type="site.module.evaluator">
            <params>
               <sites>.*</sites>
               <sitePresets>rm-site-dashboard</sitePresets>
               <applyForNonSites>true</applyForNonSites>
            </params>
         </evaluator>

         <!-- Apply the following customizations when the base evaluator above passes -->
         <customizations>
            <customization>
               <targetPackageRoot>org.alfresco</targetPackageRoot>
               <sourcePackageRoot>org.alfresco.rm.customizations</sourcePackageRoot>
            </customization>
         </customizations>
      </module>

      <module>
         <id>Alfresco :: Records Management Site (2)</id>
         <auto-deploy>true</auto-deploy>

         <!-- Base evaluator that decides if any of the component bindings should be used at all -->
         <evaluator type="site.module.evaluator">
	         <params>
	            <sites>.*</sites>
	            <sitePresets>rm-site-dashboard</sitePresets>
               <applyForNonSites>false</applyForNonSites>
	         </params>
         </evaluator>

         <!-- Apply the following configurations when the base evaluator above passes -->
         <configurations>

            <config evaluator="string-compare" condition="DocumentLibrary" replace="true">

               <!-- Document List -->
               <doclist>
                  <!-- Make sure the doclib's document list is using RM's file plan doclist webscript -->
                  <data-url-resolver>resolver.rm.doclib.doclistDataUrl</data-url-resolver>

                      <!-- The view renderers that will be available as options in DocumentLibrary, My Files, Shared Files and
                      Repository pages. This list can be added to or removed to control the views displayed. Use the a module
                      that provides evaluated configuration to have the options change based on criteria (e.g. site name,
                      site preset, user group, etc)

                      Remember to include all dependencies, even those duplicated by another view - Surf will ensure only
                      one version of each is loaded - but if a view is removed that depends on a dependency defined in another
                      view then it will cause an error.
                      -->
                 <view-renderers>
                    <view-renderer id="simple" iconClass="simple" label="button.view.simple" index="10" widget="Alfresco.DocumentListSimpleViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                          <js src="components/documentlibrary/documentlist-view-simple.js" />
                       </dependencies>
                    </view-renderer>
                    <view-renderer id="detailed" iconClass="detailed" label="button.view.detailed" index="20" widget="Alfresco.DocumentListViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                       </dependencies>
                    </view-renderer>
                    <view-renderer id="gallery" iconClass="gallery" label="button.view.gallery" index="30" widget="Alfresco.DocumentListGalleryViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                          <js src="components/documentlibrary/documentlist-view-gallery.js" />
                          <js src="yui/slider/slider.js" />
                       </dependencies>
                    </view-renderer>
                    <view-renderer id="filmstrip" iconClass="filmstrip" label="button.view.filmstrip" index="40" widget="Alfresco.DocumentListFilmstripViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                          <js src="components/documentlibrary/documentlist-view-gallery.js" />
                          <js src="components/documentlibrary/documentlist-view-filmstrip.js" />
                          <js src="yui/carousel/carousel.js" />
                          <js src="components/preview/web-preview.js" />
                          <js src="components/preview/WebPreviewer.js" />
                          <js src="js/flash/extMouseWheel.js" />
                          <js src="components/preview/StrobeMediaPlayback.js" />
                          <js src="components/preview/Video.js" />
                          <js src="components/preview/Audio.js" />
                          <js src="components/preview/Flash.js" />
                          <js src="components/preview/Image.js" />
                          <css src="components/preview/web-preview.css" />
                          <css src="components/preview/WebPreviewerHTML.css" />
                          <css src="components/preview/Audio.css" />
                          <css src="components/preview/Image.css" />
                       </dependencies>
                    </view-renderer>

                    <!-- The following entries are examples of how to create multiple instances of the
                         same renderer. In this case they are different configurations of the table view
                         and the differences are controlled by the "json-config" element (although it should
                         be noted that not although a view renderer may be supplied with the json-config the
                         table view is the only renderer that makes use of it.

                         There are 4 columns that are always present in the table which need to be manually
                         hidden if required (they will be displayed if included in the json-config:
                         - actions (the drop-down menu of actions that can be peformed on the document)
                         - indicators (the set of icons that visually communicate information about the document)
                         - selector (the checkbox to use when selecting multiple documents)
                         - thumbnail (the thumbnail sized preview of the document)

                         All other columns must be defined in the "propertyColumns" array. The property attribute
                         can be set to EITHER a document property (e.g. "cm:name") or a metadata template renderer
                         such as "size", "tags" or "date".
                    -->
                    <!--
                    <view-renderer id="email" iconClass="table" label="button.view.email" index="50" widget="Alfresco.DocumentListTableViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                          <js src="components/documentlibrary/documentlist-view-table.js" />
                          <css src="components/documentlibrary/documentlist-view-table.css" />
                       </dependencies>
                       <json-config>
                          {
                             "actions": {
                                "show": "true"
                             },
                             "indicators": {
                                "show": "true"
                             },
                             "selector": {
                                "show": "true"
                             },
                             "thumbnail": {
                                "show": "false"
                             },
                             "propertyColumns": [
                                {
                                   "property": "cm:originator",
                                   "label": "table.email.label.originator",
                                   "link": "true"
                                },
                                {
                                   "property": "cm:subjectline",
                                   "label": "table.email.label.subjectline",
                                   "link": "true"
                                },
                                {
                                   "property": "cm:sentdate",
                                   "label": "table.email.label.sentdate"
                                },
                                {
                                   "property": "cm:addressee",
                                   "label": "table.email.label.addressee"
                                },
                                {
                                   "property": "cm:addressees",
                                   "label": "table.email.label.addressees"
                                },
                                {
                                   "property": "cm:attachments",
                                   "label": "table.email.label.attachments"
                                }
                             ]
                          }
                       </json-config>
                    </view-renderer>
                    <view-renderer id="dublin_core" iconClass="table" label="button.view.dublinCore" index="80" widget="Alfresco.DocumentListTableViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                          <js src="components/documentlibrary/documentlist-view-table.js" />
                          <css src="components/documentlibrary/documentlist-view-table.css" />
                       </dependencies>
                       <json-config>
                          {
                             "actions": {
                                "show": "true"
                             },
                             "indicators": {
                                "show": "true"
                             },
                             "selector": {
                                "show": "true"
                             },
                             "thumbnail": {
                                "show": "true"
                             },
                             "propertyColumns": [
                                {
                                   "property": "name",
                                   "label": "table.dublincore.label.name",
                                   "width": "300"
                                },
                                {
                                   "property": "version",
                                   "label": "table.dublincore.label.version"
                                },
                                {
                                   "property": "cm:title",
                                   "label": "table.dublincore.label.title"
                                },
                                {
                                   "property": "cm:creator",
                                   "label": "table.dublincore.label.creator"
                                },
                                {
                                   "property": "cm:subject",
                                   "label": "table.dublincore.label.subject"
                                },
                                {
                                   "property": "cm:description",
                                   "label": "table.dublincore.label.description"
                                },
                                {
                                   "property": "cm:publisher",
                                   "label": "table.dublincore.label.publisher"
                                },
                                {
                                   "property": "cm:contributor",
                                   "label": "table.dublincore.label.contributor"
                                },
                                {
                                   "property": "cm:type",
                                   "label": "table.dublincore.label.type"
                                },
                                {
                                   "property": "cm:mimetype",
                                   "label": "table.dublincore.label.mimetype"
                                },
                                {
                                   "property": "cm:identifier",
                                   "label": "table.dublincore.label.identifier"
                                },
                                {
                                   "property": "cm:dcsource",
                                   "label": "table.dublincore.label.dcsource"
                                },
                                {
                                   "property": "cm:coverage",
                                   "label": "table.dublincore.label.coverage"
                                },
                                {
                                   "property": "cm:rights",
                                   "label": "table.dublincore.label.rights"
                                }
                             ]
                          }
                       </json-config>
                    </view-renderer>
                    <view-renderer id="effectivity" iconClass="table" label="button.view.effectivity" index="90" widget="Alfresco.DocumentListTableViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                          <js src="components/documentlibrary/documentlist-view-table.js" />
                          <css src="components/documentlibrary/documentlist-view-table.css" />
                       </dependencies>
                       <json-config>
                          {
                             "actions": {
                                "show": "true"
                             },
                             "indicators": {
                                "show": "true"
                                       <view-renderer id="audio" iconClass="table" label="button.view.audio" index="60" widget="Alfresco.DocumentListTableViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                          <js src="components/documentlibrary/documentlist-view-table.js" />
                          <css src="components/documentlibrary/documentlist-view-table.css" />
                       </dependencies>
                       <json-config>
                          {
                             "actions": {
                                "show": "true"
                             },
                             "indicators": {
                                "show": "true"
                             },
                             "selector": {
                                "show": "true"
                             },
                             "thumbnail": {
                                "show": "true"
                             },
                             "propertyColumns": [
                                {
                                   "property": "name",
                                   "label": "table.audio.label.name",
                                   "width": "300"
                                },
                                {
                                   "property": "cm:title",
                                   "label": "table.audio.label.title",
                                   "width": "200"
                                },
                                {
                                   "property": "audio:album",
                                   "label": "table.audio.label.album",
                                   "width": "200",
                                   "link": "true"
                                },
                                {
                                   "property": "audio:artist",
                                   "label": "table.audio.label.artist",
                                   "width": "200"
                                },
                                {
                                   "property": "audio:genre",
                                   "label": "table.audio.label.genre",
                                   "width": "100"
                                },
                                {
                                   "property": "audio:trackNumber",
                                   "label": "table.audio.label.trackNumber",
                                   "width": "100"
                                },
                                {
                                   "property": "audio:sampleRate",
                                   "label": "table.audio.label.sampleRate",
                                   "width": "100"
                                },
                                {
                                   "property": "audio:compressor",
                                   "label": "table.audio.label.compressor",
                                   "width": "100"
                                }
                             ]
                          }
                       </json-config>
                    </view-renderer>  },
                             "selector": {
                                "show": "true"
                             },
                             "thumbnail": {
                                "show": "true"
                             },
                             "propertyColumns": [
                                {
                                   "property": "name",
                                   "label": "table.effectivity.label.name",
                                   "width": "300"
                                },
                                {
                                   "property": "cm:description",
                                   "label": "table.effectivity.label.description"
                                },
                                {
                                   "property": "version",
                                   "label": "table.effectivity.label.version",
                                   "width": "50"
                                },
                                {
                                   "property": "cm:modified",
                                   "label": "table.effectivity.label.modified",
                                   "width": "100"
                                },
                                {
                                   "property": "cm:modifier",
                                   "label": "table.effectivity.label.modifier",
                                   "width": "100"
                                },
                                {
                                   "property": "cm:from",
                                   "label": "table.effectivity.label.from",
                                   "width": "100"
                                },
                                {
                                   "property": "cm:to",
                                   "label": "table.effectivity.label.to",
                                   "width": "100"
                                }
                             ]
                          }
                       </json-config>
                    </view-renderer>
                    -->
                    <view-renderer id="audio" iconClass="table" label="button.view.audio" index="60" widget="Alfresco.DocumentListTableViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                          <js src="components/documentlibrary/documentlist-view-table.js" />
                          <css src="components/documentlibrary/documentlist-view-table.css" />
                       </dependencies>
                       <json-config>
                          {
                             "actions": {
                                "show": "true"
                             },
                             "indicators": {
                                "show": "true"
                             },
                             "selector": {
                                "show": "true"
                             },
                             "thumbnail": {
                                "show": "true"
                             },
                             "propertyColumns": [
                                {
                                   "property": "name",
                                   "label": "table.audio.label.name",
                                   "width": "300"
                                },
                                {
                                   "property": "cm:title",
                                   "label": "table.audio.label.title",
                                   "width": "200"
                                },
                                {
                                   "property": "audio:album",
                                   "label": "table.audio.label.album",
                                   "width": "200",
                                   "link": "true"
                                },
                                {
                                   "property": "audio:artist",
                                   "label": "table.audio.label.artist",
                                   "width": "200"
                                },
                                {
                                   "property": "audio:genre",
                                   "label": "table.audio.label.genre",
                                   "width": "100"
                                },
                                {
                                   "property": "audio:trackNumber",
                                   "label": "table.audio.label.trackNumber",
                                   "width": "100"
                                },
                                {
                                   "property": "audio:sampleRate",
                                   "label": "table.audio.label.sampleRate",
                                   "width": "100"
                                },
                                {
                                   "property": "audio:compressor",
                                   "label": "table.audio.label.compressor",
                                   "width": "100"
                                }
                             ]
                          }
                       </json-config>
                    </view-renderer>
                    <view-renderer id="media_table" iconClass="table" label="button.view.media-table" index="100" widget="Alfresco.DocumentListTableViewRenderer">
                       <dependencies>
                          <js src="components/documentlibrary/documentlist-view-detailed.js" />
                          <js src="components/documentlibrary/documentlist-view-table.js" />
                          <css src="components/documentlibrary/documentlist-view-table.css" />
                       </dependencies>
                       <json-config>
                          {
                             "actions": {
                                "show": "true"
                             },
                             "indicators": {
                                "show": "true"
                             },
                             "selector": {
                                "show": "true"
                             },
                             "thumbnail": {
                                "show": "true"
                             },
                             "propertyColumns": [
                                {
                                   "property": "name",
                                   "label": "label.name",
                                   "width": "300"
                                },
                                {
                                   "property": "cm:description",
                                   "label": "label.description",
                                   "width": "200"
                                },
                                {
                                   "property": "tags",
                                   "label": "label.tags",
                                   "width": "100"
                                },
                                {
                                   "property": "exif:pixelXDimension",
                                   "label": "label.exif.width",
                                   "width": "75"
                                },
                                {
                                   "property": "exif:pixelYDimension",
                                   "label": "label.exif.height",
                                   "width": "75"
                                },
                                {
                                   "property": "size",
                                   "label": "label.size",
                                   "width": "75"
                                },
                                {
                                   "property": "version",
                                   "label": "label.version",
                                   "width": "50"
                                }
                             ]
                          }
                       </json-config>
                    </view-renderer>
                 </view-renderers>
               </doclist>
            </config>

	        <config evaluator="string-compare" condition="DocLibActions" replace="true">

               <!-- Action Group Resolver -->
               <actionGroupResolver>resolver.rm.doclib.actionGroup</actionGroupResolver>

            </config>

         </configurations>

         <!-- Apply the following component bindings when the base evaluator above passes -->
         <components>

            <!-- DOCUMENT LIBRARY (SITE) -->

            <!-- Hide Documents filter -->
            <component>
               <scope>template</scope>
               <region-id>filter</region-id>
               <source-id>documentlibrary</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!--  Hide categories -->
            <component>
               <scope>template</scope>
               <region-id>categories</region-id>
               <source-id>documentlibrary</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!--
               Replace with RM specific tree,
               Add RM File Plan filter &
               Add RM Saved Search filter
            -->
            <component>
               <scope>template</scope>
               <region-id>tree</region-id>
               <source-id>documentlibrary</source-id>
               <sub-components>
                  <!-- Replace with RM specific tree -->
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-tree">
                           <url>/rm/components/documentlibrary/tree</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
                  <!-- Add RM File Plan filter -->
                  <sub-component id="rm-fileplan">
                     <evaluations>
                        <evaluation id="rm-fileplan">
                           <url>/rm/components/documentlibrary/fileplan</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
                  <!-- Add RM Saved Search filter -->
                  <sub-component id="rm-savedsearch">
                     <evaluations>
                        <evaluation id="rm-savedsearch">
                           <url>/rm/components/documentlibrary/savedsearch</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide documents Tags filter -->
            <component>
               <scope>template</scope>
               <region-id>tags</region-id>
               <source-id>documentlibrary</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Replace with RM specific Actions -->
            <component>
               <scope>template</scope>
               <region-id>actions-common</region-id>
               <source-id>documentlibrary</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-actionsCommon">
                           <url>/rm/components/documentlibrary/actions-common</url>
                           <properties>
                              <nodeRef>{nodeRef}</nodeRef>
                           </properties>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Replace with RM specific Document List -->
            <component>
               <scope>template</scope>
               <region-id>documentlist_v2</region-id>
               <source-id>documentlibrary</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-documentlist_v2">
                           <url>/rm/components/documentlibrary/documentlist_v2</url>
                           <properties>
                              <pagination>true</pagination>
                           </properties>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Replace with RM specific File Upload -->
            <component>
               <scope>template</scope>
               <region-id>file-upload</region-id>
               <source-id>documentlibrary</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-fileUpload">
                           <url>/rm/components/upload/file-upload</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Replace with RM specific Flash Upload -->
            <component>
               <scope>template</scope>
               <region-id>flash-upload</region-id>
               <source-id>documentlibrary</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-flashUpload">
                           <url>/rm/components/upload/flash-upload</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Replace with RM specific Html Upload -->
            <component>
               <scope>template</scope>
               <region-id>html-upload</region-id>
               <source-id>documentlibrary</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-htmlUpload">
                           <url>/rm/components/upload/html-upload</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>


            <!-- DOCUMENT DETAILS -->

            <!-- Records Management Document Header -->
            <component>
               <scope>template</scope>
               <region-id>node-header</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <!-- Site header -->
                        <evaluation id="rm-nodeHeader">
                           <url>/components/node-details/node-header</url>
                           <properties>
                              <nodeRef>{nodeRef}</nodeRef>
                              <rootPage>documentlibrary</rootPage>
                              <rootLabelId>path.fileplan</rootLabelId>
                              <showFavourite>false</showFavourite>
                              <showLikes>false</showLikes>
                              <showComments>false</showComments>
                           </properties>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Add RM Events -->
            <component>
               <scope>template</scope>
               <region-id>web-preview</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="rm-events">
                     <evaluations>
                        <evaluation id="rm-events">
                           <url>/rm/components/fileplan/events</url>
                           <properties>
                              <nodeRef>{nodeRef}</nodeRef>
                           </properties>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Comments -->
            <component id="template.comments.document-details">
               <scope>template</scope>
               <region-id>comments</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Replace with RM specific Actions -->
            <component>
               <scope>template</scope>
               <region-id>document-actions</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <!-- RM specific Actions -->
                        <evaluation id="rm-documentActions">
                           <url>/rm/components/document-details/document-actions</url>
                           <properties>
                              <nodeRef>{nodeRef}</nodeRef>
                           </properties>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>
            <component>
               <scope>template</scope>
               <region-id>actions-common</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <!-- RM specific Actions (common) -->
                        <evaluation id="rm-actionsCommon">
                           <url>/rm/components/documentlibrary/actions-common</url>
                           <properties>
                              <nodeRef>{nodeRef}</nodeRef>
                           </properties>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Document Tags -->
            <component>
               <scope>template</scope>
               <region-id>document-tags</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!--
               Replace with RM specific view form,
               Add RM references
             -->
            <component>
               <scope>template</scope>
               <region-id>document-metadata</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <!-- Replace with RM specific metadata -->
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-documentMetadata">
                           <url>/components/document-details/document-metadata</url>
                           <properties>
                              <nodeRef>{nodeRef}</nodeRef>
                              <formId>rm</formId>
                           </properties>
                        </evaluation>
                     </evaluations>
                  </sub-component>
                  <!-- Add RM references -->
                  <sub-component id="rm-references">
                     <evaluations>
                        <evaluation id="rm-references">
                           <url>/rm/components/document-details/document-references</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Document Permissions -->
            <component>
               <scope>template</scope>
               <region-id>document-permissions</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Document Workflows -->
            <component>
               <scope>template</scope>
               <region-id>document-workflows</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Version History -->
            <component>
               <scope>template</scope>
               <region-id>document-versions</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Publishing -->
            <component>
               <scope>template</scope>
               <region-id>document-publishing</region-id>
               <source-id>document-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>


            <!-- EDIT METADATA -->

            <!-- Replace with RM specific Form Manager -->
            <component>
               <scope>template</scope>
               <region-id>edit-metadata-mgr</region-id>
               <source-id>edit-metadata</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-editMetadataMgr">
                           <url>/rm/components/edit-metadata/edit-metadata-mgr</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Replace with RM specific Form -->
            <component>
               <scope>template</scope>
               <region-id>edit-metadata</region-id>
               <source-id>edit-metadata</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-form">
                           <url>/components/form</url>
                           <properties>
                              <itemKind>node</itemKind>
                              <itemId>{nodeRef}</itemId>
                              <formId>rm</formId>
                              <mode>edit</mode>
                              <submitType>json</submitType>
                              <showCaption>true</showCaption>
                              <showCancelButton>true</showCancelButton>
                           </properties>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>


            <!-- FOLDER DETAILS -->

            <!--
               NOTE!

               The folder-details page shall actually never be used from a Records Management site,
               but if somebody happens to manipulate a url for a record-serie, record-category or a record-folder
               its important that we DON't display any "un-versioned" data. Therefore we hide all the usual components
               on the folder-details page and make sure to only display the node's metadata below a header.
            -->

            <!--
               Hide Comments,
               Add metadata header &
               Add RM specific metadata
             -->
            <component>
               <scope>template</scope>
               <region-id>comments</region-id>
               <source-id>folder-details</source-id>
               <sub-components>
                  <!-- Hide comments -->
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
                  <!-- Add Metadata Header -->
                  <sub-component id="rm-folderMetadataHeader">
                     <evaluations>
                        <evaluation id="rm-folderMetadataHeader">
                           <url>/components/folder-details/folder-metadata-header</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
                  <!-- Add RM Metadata -->
                  <sub-component id="rm-folderMetadata">
                     <evaluations>
                        <evaluation id="rm-folderMetadata">
                           <url>/components/form</url>
                           <properties>
                              <itemKind>node</itemKind>
                              <itemId>{nodeRef}</itemId>
                              <formId>rm</formId>
                              <mode>view</mode>
                           </properties>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Folder Metadata Header -->
            <component>
               <scope>template</scope>
               <region-id>folder-metadata-header</region-id>
               <source-id>folder-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Folder Metadata Header -->
            <component>
               <scope>template</scope>
               <region-id>folder-metadata</region-id>
               <source-id>folder-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Folder Info -->
            <component>
               <scope>template</scope>
               <region-id>folder-info</region-id>
               <source-id>folder-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!-- Hide Folder Actions -->
            <component>
               <scope>template</scope>
               <region-id>folder-actions</region-id>
               <source-id>folder-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>


            <!-- Hide Folder Links -->
            <component>
               <scope>template</scope>
               <region-id>folder-links</region-id>
               <source-id>folder-details</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-hide">
                           <render>false</render>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <!--  Customise rule edit UI -->
            <component>
               <scope>template</scope>
               <region-id>rule-edit</region-id>
               <source-id>rule-edit</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-rule-edit">
        					<url>/rm/components/rules/rule-edit</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

            <component>
               <scope>template</scope>
               <region-id>rule-details</region-id>
               <source-id>folder-rules</source-id>
               <sub-components>
                  <sub-component id="default">
                     <evaluations>
                        <evaluation id="rm-rule-edit">
        					<url>/rm/components/rules/rule-details</url>
                        </evaluation>
                     </evaluations>
                  </sub-component>
               </sub-components>
            </component>

         </components>

      </module>

      <module>
         <id>Alfresco :: Records Management Config (3)</id>
         <auto-deploy>true</auto-deploy>
         <customizations>
            <customization>
               <targetPackageRoot>org.alfresco</targetPackageRoot>
               <sourcePackageRoot>org.alfresco.config</sourcePackageRoot>
            </customization>
         </customizations>
      </module>

   </modules>
</extension>
