<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

   <bean id="permissionServiceImpl" class="org.alfresco.repo.security.permissions.impl.RMPermissionServiceImpl" init-method="init">
      <property name="nodeService">
         <ref bean="mtAwareNodeService" />
      </property>
      <property name="tenantService">
         <ref bean="tenantService"/>
      </property>
      <property name="dictionaryService">
         <ref bean="dictionaryService" />
      </property>
      <property name="permissionsDaoComponent">
         <ref bean="permissionsDaoComponent" />
      </property>
      <property name="modelDAO">
         <ref bean="permissionsModelDAO" />
      </property>
      <property name="authorityService">
         <ref bean="authorityService" />
      </property>
      <property name="accessCache">
         <ref bean="permissionsAccessCache" />
      </property>
      <property name="readersCache">
         <ref bean="readersCache" />
      </property>
      <property name="readersDeniedCache">
         <ref bean="readersDeniedCache" />
      </property>
      <property name="policyComponent">
         <ref bean="policyComponent" />
      </property>
      <property name="aclDAO">
         <ref bean="aclDAO" />
      </property>
      <property name="ownableService">
         <ref bean="ownableService" />
      </property>
      <property name="anyDenyDenies">
         <value>${security.anyDenyDenies}</value>
      </property>
      <property name="dynamicAuthorities">
         <list>
            <ref bean="ownerDynamicAuthority" />
            <ref bean="lockOwnerDynamicAuthority" />
            <ref bean="extendedReaderDynamicAuthority" />
         </list>
      </property>
   </bean>

   <bean id="extendedReaderDynamicAuthority" class="org.alfresco.module.org_alfresco_module_rm.security.ExtendedReaderDynamicAuthority" />
   
   <!-- Action Service -->
   <bean id="actionService" class="org.alfresco.repo.action.ExtendedActionServiceImpl" init-method="init">
   
   		<property name="recordsManagementService" ref="RecordsManagementService" />
   
        <property name="policyComponent">
            <ref bean="policyComponent" />
        </property>         
        <property name="nodeService">
            <ref bean="NodeService" />
        </property>         
        <property name="searchService">
            <ref bean="ADMSearchService" />
        </property>         
        <property name="authenticationContext">
            <ref bean="authenticationContext" />
        </property>        
        <property name="actionTrackingService">
            <ref bean="actionTrackingService" />
        </property>        
        <property name="dictionaryService">
            <ref bean="DictionaryService" />
        </property>
        <property name="monitor">
            <ref bean="actionServiceMonitor"/>
        </property>
        
        <property name="asynchronousActionExecutionQueues">
            <map>
                <!--  This is the default async queue -->
               <entry key="">
                      <ref bean="defaultAsynchronousActionExecutionQueue"/>
               </entry>
               <entry key="deployment">
                      <ref bean="deploymentAsynchronousActionExecutionQueue"/>
               </entry>
            </map>   
        </property>
    </bean>
    
</beans>    